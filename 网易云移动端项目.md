# 网易云移动端项目

## 	首页

1. vant组件库

2. vue3组合式API

3. 使用axios,封装axios 

##歌单详情页

      1. 路由跳转
      2. 路由传参
      3. 使用vuex实现底部组件的制作
      4. 使用H5的知识点以及vue的监听实现播放音乐播放功能

## 歌曲详情页

1. 使用到vant的抽屉组件
2. 使用vue3Marquee组件实现页面头部跑马灯的效果
3. 使用css3的知识点实现中间磁盘和磁针的动画效果
4. 底部的播放功能使用组件之间的通信进行传值
5. 使用动态的class以及计算属性实现怼歌词样式的突出显示
6. 使用vue的watch监听和ref实现歌词滚动效果
7. 使用vuex以及定时器来实现进度条
8. 实现上一首下一首的切换

## 搜索页面

1. 使用localStorage进行历史记录的保存,使用ES6的Set进行数据去重
2. 对搜索结果也可以进行点击播放

## 个人中心页面

1. 使用路由守卫,进行权限判断
2. 如果未登录,进入登录页面,实现登录功能,以及获取token,并保存下来,保持登录状态
3. 个人呢中心页面根据登录成功返回的个人id去获取对应的个人数据渲染



--------



1. 使用vue组件化开发

2. vue的双向绑定

3. 如何再vue中使用各种第三方组件库

4. 页面刷新、数据丢失怎么解决?

5. 如何处理数据?

   ......



启动服务器,进入项目文件   

```
//服务器启动和项目启动需要分别到对应文档位置
node app.js			//服务器启动
npm run serve			//项目启动

//脚手架搭建项目
vue create wangyiyun-app		//(Babel,Router,Vuex,Css Pre-processors,less)
npm run serve
npm i vant			//安装vant3组件库
npm i unplugin-vue-components -D			//引入组件,安装插件
npm install axios
```



----



==组件化开发==

- public 静态库

  - js - rem.js	页面大小适配
  
- src 资源库

  - assets
  
  - components 组件库
  
    - home 首页组件
  
      - IconList.vue  首页功能组件
      - MusicList.vue  首页歌单推荐组件
    
      - TopNav.vue  首页头部组件
      - SwiperTop.vue  首页轮播组件
    
    - item  歌单组件
    
      - ItemMusicTop.vue  歌单页头部组件
      - ItemMusicList.vue  歌单页歌曲列表
      - FooterMusic.vue  下部播放组件
    
  - plugins  插件库
  
    - index.js  app组件循环引入
    
  - request 请求管理 
    - api 获取数据接口
      - home.js 首页需要获取的数据
      - item.js  歌单页需要获取的数据
    - index.js axios封装,统一管理请求
    
  - router
  
  - store
  
  - views  页面入口
  
    - About.vue  
    - Home.vue  首页入口
    - ItemMusic  歌单页入口
  
  - main.js  组件引入注册
  
  - App.vue  页面全局样式
  
- package.json

- vue.config.js

==过多组件引入问题==

​	当组件引入时,需要到 main.js 中引入注册使用,

```javascript
import { Button } from 'vant';

const app=createApp(App)
app.use(Button)
```

而当有不少的组件都需要引入注册时,就不断得重复这一过程,繁琐且麻烦,

​	所以建立 plugins 插件库,建立一个app组件循环引入的插件,来帮助快速引入外部组件,从而简化了代码

==vue生命周期钩子&获取数据异步请求async==

```javascript
// 生命周期 mounted 钩子可以用来在组件完成初始渲染并创建 DOM 节点后运行
// async/await 是 ES7 的标准，Promise 是 ES6 标准，async/await 这套 API 也是用来帮助我们写异步代码的，它是构建在 Promise 之上的
// 抓取后台服务器数据
onMounted(async ()=>{	// async 一般不单独使用，而是和 await 一起使用，一个 async 函数内部可能有 零个 或者 多个 await 
	// axios.get('http://localhost:3000/banner?type=2').then((res)=>{
	//     console.log(res);
	//     state.images = res.data.banners
	// })
    // 当 async 函数执行到 await 的时候，会暂停整个async函数的执行进程并出让其控制权，只有当其等待的基于Promise 的异步操作被兑现或被拒绝之后才会恢复进程
	let res = await getBanner();        
	console.log(res);
	state.images = res.data.banners;
})
```

==vue路由跳转==

 	1. 在组件全局编程式路由跳转

```javascript
<span @click="$router.push('/infoUser')">我的</span>
```

 	2. 路由标签跳转

```javascript
//使用router-link两种方式传递参数（params,query）
<!-- query方式 -->
<router-link :to="{path:'/page1',query:{username}}">page1</router-link>
<!-- params方式 -->
<router-link :to="{name:'page2',params:{username1}}">page2</router-link>
<!-- 可以发现地址栏看不到传的参数，若想看到参数可以在传参的时候字符拼接 -
<router-link :to="'/page2/'+username1">page2</router-link>
```

==双向绑定问题==

==props==

​	顾名思义，props就是属性的简写，是单个值，是在父组件中定义或已经在state中的值，并将这些值传递给其子组件。props本身不可变，但可以通过触发state的变化，反过来改变props本身的值。

props的作用

作用：用于接收组件外部的数据 传递数据： 通过给组件标签添加属性 接收数据：函数组件通过 参数 props接收数据，类组件通过 this.props接收数据

props的特点

- 可以给组件传递任意类型的数据
- props是只读属性，不能对值进行修改
- 使用类组件时，如果写了构造函数，应该将props传递给super(),否则无法在构造函数中获取到props，其他的地方是可以拿到的

props的应用场景

1，子组件调用父组件的方法 （1）子组件要拿到父组件的属性，需要通过 `this.props` 方法。 （2）同样地，如果子组件想要调用父组件的方法，只需父组件把要被调用的方法以属性的方式放在子组件上， 子组件内部便可以通过`“this.props.被调用的方法`”这样的方式来获取父组件传过来的方法。

2，父组件调用子组件的方法 在 ReactJS 中有个叫 ref 的属性。这个属性就像给组件起个引用名字一样，子组件被设置为 ref 之后（比如 ref=“xxx”）。父组件便可以通过 `this.refs.xxx` 来获取到子组件了。

==mapMutations==

​	mapMutations是Vuex的mutation的`辅助函数`，用于在组件中映射mutation内的方法，以便在该组件中直接使用mutation里的方法 (语法糖)
